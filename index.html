<html>
    <head>
       
        <script type="text/javascript">
            // function scanReceived(params){
            //     if(params['data']== "" || params['time']==""){
            //         document.getElementById('display').innerHTML = "Failed!";
            //         return;
            //     }

            //     var displayStr = "Barcode Data: " +params['data']+"<br>Time: "+params['time'];
            //     document.getElementById("display").innerHTML = displayStr;
            // }

            // function loadEvent(){
            //     EB.Barcode.enable({allDecoders:true}, scanReceived);
            // }

            // function unloadEvent(){
            //      EB.Barcode.disable();
            // }

            // window.addEventListener('DOMContentLoaded', loadEvent);
            // window.addEventListener('unload',unloadEvent);

            (function() {

    // Poll for EB namespace to come into existence
    var checkReady = function(callback) {
        if (window.EB) {
            callback(EB);
        }
        else {
            window.setTimeout(function() { checkReady(callback); }, 100); //check here
        }
    };
   var scanReceived= function(params){
                if(params['data']== "" || params['time']==""){
                    document.getElementById('display').innerHTML = "Failed!";
                    return;
                }

                var displayStr = "Barcode Data: " +params['data']+"<br>Time: "+params['time'];
                document.getElementById("display").innerHTML = displayStr;
            };
    // Start polling...
    checkReady(function(EB) {
        EB.Barcode.enable({allDecoders:true}, scanReceived);
      alert(EB.Application.appName); //use EB api here
    });
})();
        </script>
    </head>

    <body >
        <h1>Scan Common API (EB)</h1>
        Scan a barcode.<br><br><br>
        <div id="display">
        Barcode Data: <br>
        Time: 
        </div><br>
    </body>
</html>
